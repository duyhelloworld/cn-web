<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game</title>
</head>
<style>
    #board{
        border: 1px solid;
        background-color: gray;
        height: 450px;
        width: 650px;
    }

    #count{
        color: red;
        font-size: 100px;
    }

    .character{
        width: 120px;
        height: 120px;
        padding: 10px;
        background-color: aqua;
        float: left;
        margin: 10px;
    }

    .visible {
        visibility: visible;
    }
    .hidden {
        visibility: hidden;
    }

</style>
<body>
    <input type="button" value="Play" onclick="startGame()">
    <div id="board">
        <div class="character">1</div>
        <div class="character">2</div>
        <div class="character">3</div>
        <div class="character">4</div>
        <div class="character">5</div>
        <div class="character">6</div>
        <!-- <div class="character">7</div>
            <div class="character">8</div> -->
            <div id="count">    </div>
    </div> 
</body>
</html>

<script>
    let startGame = () => {
        gameLoop();
        updateCount();
    }

    var count = 0, loop = 0;
    function updateCount() {
        count++;
        document.getElementById('count').innerHTML = count;
        setTimeout(updateCount, 1000);
    }

    var peopleVisible = false;

    let gameLoop = () => {
        peopleVisible = !peopleVisible;
        createChar();
        flashChar();
        loop++;
        if (loop < 12) {
            setTimeout(gameLoop, 3000);
        }
        else {
            alert("Game over");
        }
    }

    var board = document.getElementById('board');
    function flashChar() {
        var classToSet = "";
        if (peopleVisible) {
            classToSet = "character visible";
        }
        else 
            classToSet = "character hidden";

        for (let index = 0; index < 6; index++) {
            board.children[index].className = classToSet;
        }
    }

    var randomChar;
    function createChar() {
        for (let index = 0; index < 6; index++) {
            board.children[index].innerHTML = "Guest";
            board.children[index].onclick = () => { gameScore+= -2}
        }
        randomChar = Math.floor((Math.random() * 6) + 1);
            board.children[randomChar - 1].innerHTML = "Thief";
            board.children[randomChar - 1].onclick = () => { gameScore++};
        }
</script>